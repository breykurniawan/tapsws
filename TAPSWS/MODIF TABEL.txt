CREATE TABLE T_ACCESSRIGHTS
(
  ACCESSID       VARCHAR2(30 BYTE),
  ACCESSNAME     VARCHAR2(30 BYTE),
  INACTIVE       VARCHAR2(1 BYTE),
  INACTIVE_DATE  DATE,
  INPUT_BY       VARCHAR2(30 BYTE),
  INPUT_DATE     DATE,
  UPDATE_BY      VARCHAR2(30 BYTE),
  UPDATE_DATE    DATE,
  PARENTID       VARCHAR2(30 BYTE),
  TYPE           VARCHAR2(10 BYTE),
  IMGID          VARCHAR2(4 BYTE),
  FRMNAME        VARCHAR2(30 BYTE),
  URUT           VARCHAR2(2 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX T_ACCESSRIGHTS_PRIMARY ON T_ACCESSRIGHTS
(ACCESSID)
LOGGING
NOPARALLEL;


ALTER TABLE T_ACCESSRIGHTS ADD (
  CONSTRAINT T_ACCESSRIGHTS_PRIMARY
 PRIMARY KEY


---////ALTER VIEW

CREATE OR REPLACE VIEW SWS.V_MENUBAR
(URUT,ROLEID, ACCESSID, MENU, TYPE, USERID, 
 PARENTID, GROUPMENU)
AS 
SELECT DISTINCT C.URUT,A.ROLEID,B.ACCESSID,C.ACCESSNAME MENU,C.TYPE,A.USERNAME,C.PARENTID,D.ACCESSNAME GROUPMENU 
FROM T_USERPROFILE A
LEFT JOIN T_ROLEACCESSRIGHTS B ON A.ROLEID=B.ROLEID 
LEFT JOIN T_ACCESSRIGHTS C ON B.ACCESSID=C.ACCESSID  
LEFT JOIN T_ACCESSRIGHTS D ON C.PARENTID=D.ACCESSID
ORDER BY C.URUT,B.ACCESSID;
 (ACCESSID));